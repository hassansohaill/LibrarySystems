@page "/loginPage"
@inject NavigationManager NavigationManager
@using test.Shared

<NavBar />


<div class="loginBox">
    <div class="loginLogo">
        <p>LOGIN</p>
    </div>
    <div class="username">
        <form>
            <label for="username">Library Card ID:</label><br>
            <input type="text" id="username" name="username" @bind="libraryCardValue"><br>
        </form>
    </div>

    <div class="password">
        <form>
            <label for="password">PIN:</label><br>
            <input type="text" id="pasword" name="password" @bind="pinValue"><br>
        </form>
    </div>

    <div class="submitButton">
        <button @onclick="CheckInputCondition">
            <h>Login</h>
        </button>
    </div>

    <div class="links2">

        <div class="forgetLink">
            <a href=#home>Forgot Password?</a>
        </div>

        <div class="createAccount">
            <a href=#home>New? Click here to create an account!</a>
        </div>
    </div>

</div>

<style>
    .links2 {
        margin-top: 20px;
    }

    .loginLogo {
        text-align: center;
    }

    .username {
        margin-top: 30px;
    }

    .password {
        margin-top: 30px;
    }

    .submitButton {
        margin-top: 20px;
    }

    .loginBox {
        text-align: center;
    }
</style>

@code {
    private string libraryCardValue;
    private string pinValue;
    private string message;

    private async Task CheckInputCondition()
    {
        if (!string.IsNullOrEmpty(libraryCardValue) && !string.IsNullOrEmpty(pinValue))
        {
            Globals.loginCondition = true;
            await Task.Delay(2000);
            NavigationManager.NavigateTo("/");

        }
        else
        {
            message = "Incorrect Library Card Number or PIN";
        }
    }
    private async Task logOut()
    {
        Globals.loginCondition = false;
        await Task.Delay(2000);
        NavigationManager.NavigateTo("/");

    }

}